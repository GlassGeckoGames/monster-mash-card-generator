{"ast":null,"code":"import { Card, globalCardStats, triggersAndEffects } from './CardStats';\n\n/**\n * Generates random card stats and assigns a random trigger and effect based on the card's rarity.\n * @returns {Card} - The generated card with random stats, trigger, and effect.\n */\nfunction generateRandomCardStats() {\n  const card = new Card();\n  const distributionOfPoints = true;\n  if (distributionOfPoints) {\n    // Assign random stats to the card within the defined ranges\n    card.Accuracy = getRandomInt(globalCardStats.accuracy[0], globalCardStats.accuracy[1] + 1);\n    card.Retaliation = getRandomInt(globalCardStats.defense[0], globalCardStats.defense[1] + 1);\n    card.Damage = getRandomInt(globalCardStats.damage[0], globalCardStats.damage[1] + 1);\n    card.HealthPoints = getRandomInt(globalCardStats.health[0], globalCardStats.health[1] + 1);\n  } else {\n    // Distribute points randomly across the four stats\n    const distributedStats = distributePoints(globalCardStats.distributionPoints);\n    card.HealthPoints = distributedStats.health;\n    card.Damage = distributedStats.damage;\n    card.Defense = distributedStats.defense;\n    card.Accuracy = distributedStats.accuracy;\n  }\n\n  // Generate a random trigger and effect\n  const triggerEffect = generateRandomTriggerEffect();\n  card.Trigger = triggerEffect.trigger;\n  card.Effect = triggerEffect.effect;\n  card.abilityRarity = triggerEffect.rarity;\n  return card;\n}\n\n/**\n * Distributes a given number of points across four stats while respecting min and max values.\n * @param {number} totalPoints - The total points to distribute.\n * @returns {Object} - An object containing the distributed stats.\n */\nfunction distributePoints(totalPoints) {\n  const stats = ['health', 'damage', 'defense', 'accuracy'];\n  const result = {\n    health: globalCardStats.health[0],\n    damage: globalCardStats.damage[0],\n    defense: globalCardStats.defense[0],\n    accuracy: globalCardStats.accuracy[0]\n  };\n\n  // Initialize the remaining points to be distributed\n  let remainingPoints = totalPoints - (globalCardStats.health[0] + globalCardStats.damage[0] + globalCardStats.defense[0] + globalCardStats.accuracy[0]);\n  while (remainingPoints > 0) {\n    // Pick a random stat to increment\n    const randomStat = stats[Math.floor(Math.random() * stats.length)];\n    const maxStatValue = globalCardStats[randomStat][1];\n\n    // Only increment if the stat hasn't reached its maximum value\n    if (result[randomStat] < maxStatValue) {\n      result[randomStat]++;\n      remainingPoints--;\n    }\n  }\n  return result;\n}\n\n/**\n * Generates a random trigger and effect based on their weights.\n * @returns {Object} - An object containing the selected trigger, effect, and rarity.\n */\nfunction generateRandomTriggerEffect() {\n  // Select a random trigger based on weights\n  const trigger = getRandomElementWithWeight(triggersAndEffects);\n\n  // Select a random effect from the chosen trigger's effects based on weights\n  const effect = getRandomElementWithWeight(trigger.effects);\n  return {\n    trigger: trigger.trigger,\n    effect: effect.name,\n    rarity: trigger.rarity\n  };\n}\n\n/**\n * Selects a random element from an array based on their weights.\n * @param {Array} elements - The array of elements to choose from.\n * @returns {Object} - The selected element.\n */\nfunction getRandomElementWithWeight(elements) {\n  const totalWeight = elements.reduce((acc, element) => acc + parseFloat(element.weight), 0);\n  const randomValue = Math.random() * totalWeight;\n  let cumulativeWeight = 0;\n\n  // Select an element based on the random value\n  for (const element of elements) {\n    cumulativeWeight += parseFloat(element.weight);\n    if (randomValue < cumulativeWeight) {\n      return element;\n    }\n  }\n  return elements[0]; // Fallback to the first element if no element is selected\n}\n\n/**\n * Generates a random integer between the specified min (inclusive) and max (exclusive).\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n * @returns {number} - The generated random integer.\n */\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\nexport default generateRandomCardStats;","map":{"version":3,"names":["Card","globalCardStats","triggersAndEffects","generateRandomCardStats","card","distributionOfPoints","Accuracy","getRandomInt","accuracy","Retaliation","defense","Damage","damage","HealthPoints","health","distributedStats","distributePoints","distributionPoints","Defense","triggerEffect","generateRandomTriggerEffect","Trigger","trigger","Effect","effect","abilityRarity","rarity","totalPoints","stats","result","remainingPoints","randomStat","Math","floor","random","length","maxStatValue","getRandomElementWithWeight","effects","name","elements","totalWeight","reduce","acc","element","parseFloat","weight","randomValue","cumulativeWeight","min","max"],"sources":["/Users/chacenielson/Documents/git-pull/card-generator/src/card-logic/CardGenerator.js"],"sourcesContent":["import { Card, globalCardStats, triggersAndEffects } from './CardStats';\n\n/**\n * Generates random card stats and assigns a random trigger and effect based on the card's rarity.\n * @returns {Card} - The generated card with random stats, trigger, and effect.\n */\nfunction generateRandomCardStats() {\n  const card = new Card();\n\n  const distributionOfPoints = true\n  \n  if (distributionOfPoints){\n    // Assign random stats to the card within the defined ranges\n    card.Accuracy = getRandomInt(globalCardStats.accuracy[0], globalCardStats.accuracy[1] + 1);\n    card.Retaliation = getRandomInt(globalCardStats.defense[0], globalCardStats.defense[1] + 1);\n    card.Damage = getRandomInt(globalCardStats.damage[0], globalCardStats.damage[1] + 1);\n    card.HealthPoints = getRandomInt(globalCardStats.health[0], globalCardStats.health[1] + 1);\n\n  }else{\n      // Distribute points randomly across the four stats\n    const distributedStats = distributePoints(globalCardStats.distributionPoints);\n    card.HealthPoints = distributedStats.health;\n    card.Damage = distributedStats.damage;\n    card.Defense = distributedStats.defense;\n    card.Accuracy = distributedStats.accuracy;\n  }\n\n\n  // Generate a random trigger and effect\n  const triggerEffect = generateRandomTriggerEffect();\n  card.Trigger = triggerEffect.trigger;\n  card.Effect = triggerEffect.effect;\n  card.abilityRarity = triggerEffect.rarity;\n\n  return card;\n}\n\n\n/**\n * Distributes a given number of points across four stats while respecting min and max values.\n * @param {number} totalPoints - The total points to distribute.\n * @returns {Object} - An object containing the distributed stats.\n */\nfunction distributePoints(totalPoints) {\n  const stats = ['health', 'damage', 'defense', 'accuracy'];\n  const result = {\n    health: globalCardStats.health[0],\n    damage: globalCardStats.damage[0],\n    defense: globalCardStats.defense[0],\n    accuracy: globalCardStats.accuracy[0]\n  };\n\n  // Initialize the remaining points to be distributed\n  let remainingPoints = totalPoints - (globalCardStats.health[0] + globalCardStats.damage[0] + globalCardStats.defense[0] + globalCardStats.accuracy[0]);\n\n  while (remainingPoints > 0) {\n    // Pick a random stat to increment\n    const randomStat = stats[Math.floor(Math.random() * stats.length)];\n    const maxStatValue = globalCardStats[randomStat][1];\n\n    // Only increment if the stat hasn't reached its maximum value\n    if (result[randomStat] < maxStatValue) {\n      result[randomStat]++;\n      remainingPoints--;\n    }\n  }\n\n  return result;\n}\n\n\n/**\n * Generates a random trigger and effect based on their weights.\n * @returns {Object} - An object containing the selected trigger, effect, and rarity.\n */\nfunction generateRandomTriggerEffect() {\n  // Select a random trigger based on weights\n  const trigger = getRandomElementWithWeight(triggersAndEffects);\n  \n  // Select a random effect from the chosen trigger's effects based on weights\n  const effect = getRandomElementWithWeight(trigger.effects);\n\n  return { trigger: trigger.trigger, effect: effect.name, rarity: trigger.rarity };\n}\n\n/**\n * Selects a random element from an array based on their weights.\n * @param {Array} elements - The array of elements to choose from.\n * @returns {Object} - The selected element.\n */\nfunction getRandomElementWithWeight(elements) {\n  const totalWeight = elements.reduce((acc, element) => acc + parseFloat(element.weight), 0);\n  const randomValue = Math.random() * totalWeight;\n  let cumulativeWeight = 0;\n\n  // Select an element based on the random value\n  for (const element of elements) {\n    cumulativeWeight += parseFloat(element.weight);\n    if (randomValue < cumulativeWeight) {\n      return element;\n    }\n  }\n\n  return elements[0]; // Fallback to the first element if no element is selected\n}\n\n/**\n * Generates a random integer between the specified min (inclusive) and max (exclusive).\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n * @returns {number} - The generated random integer.\n */\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport default generateRandomCardStats;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}