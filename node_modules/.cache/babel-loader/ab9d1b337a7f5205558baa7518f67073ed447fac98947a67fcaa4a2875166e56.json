{"ast":null,"code":"import { Card, AbilityRarity } from './Card';\nimport { GlobalCardStats } from './GlobalCardStats';\nfunction generateRandomCard() {\n  const name = getRandomElement(GlobalCardStats.RandomNames);\n  const card = new Card();\n  card.cardName = name;\n  card.cardSprite = getRandomElement(GlobalCardStats.cardSprites);\n  card.cardAccessorySprite = getRandomElement(GlobalCardStats.cardAccessorySprites);\n  card.Accuracy = getRandomInt(GlobalCardStats.MinAccuracy, GlobalCardStats.MaxAccuracy + 1);\n  card.Retaliation = getRandomInt(GlobalCardStats.MinRetaliation, GlobalCardStats.MaxRetaliation + 1);\n  card.Damage = getRandomInt(GlobalCardStats.MinDamage, GlobalCardStats.MaxDamage + 1);\n  card.HealthPoints = getRandomInt(GlobalCardStats.MinHealthPoints, GlobalCardStats.MaxHealthPoints + 1);\n  card.abilityRarity = generateRandomRarity();\n  card.Trigger = generateRandomTrigger(card);\n  card.Effect = generateRandomEffect(card);\n  return card;\n}\nfunction generateRandomRarity() {\n  const rarityWeights = {\n    [AbilityRarity.Common]: GlobalCardStats.CommonChance,\n    [AbilityRarity.Uncommon]: GlobalCardStats.UncommonChance,\n    [AbilityRarity.Rare]: GlobalCardStats.RareChance\n  };\n  const totalWeight = Object.values(rarityWeights).reduce((acc, weight) => acc + weight, 0);\n  const randomValue = getRandomInt(0, totalWeight);\n  let cumulativeWeight = 0;\n  for (const [rarity, weight] of Object.entries(rarityWeights)) {\n    cumulativeWeight += weight;\n    if (randomValue < cumulativeWeight) {\n      return rarity;\n    }\n  }\n  return AbilityRarity.Common;\n}\nfunction generateRandomTrigger(card) {\n  if (card.abilityRarity === AbilityRarity.Common) {\n    return getRandomTextWithWeight(GlobalCardStats.CommonTriggers);\n  } else if (card.abilityRarity === AbilityRarity.Uncommon) {\n    return getRandomTextWithWeight(GlobalCardStats.UncommonTriggers);\n  } else if (card.abilityRarity === AbilityRarity.Rare) {\n    return getRandomTextWithWeight(GlobalCardStats.RareTriggers);\n  }\n  return \"\";\n}\nfunction generateRandomEffect(card) {\n  let result = \"\";\n  if (card.abilityRarity === AbilityRarity.Common) {\n    result = getRandomTextWithWeight(GlobalCardStats.CommonEffects);\n  } else if (card.abilityRarity === AbilityRarity.Uncommon) {\n    result = getRandomTextWithWeight(GlobalCardStats.UncommonEffects);\n  } else if (card.abilityRarity === AbilityRarity.Rare) {\n    result = getRandomTextWithWeight(GlobalCardStats.RareEffects);\n  }\n  result = result.trim();\n  let loopCount = 0;\n  while ([GlobalCardStats.RollCommon, GlobalCardStats.RollUnCommon, GlobalCardStats.RollRare].includes(result)) {\n    loopCount++;\n    if (loopCount >= 2000) {\n      console.log(\"Infinite Loop\");\n      break;\n    }\n    if (result === GlobalCardStats.RollCommon) {\n      console.log(`${card.cardName} Rolled Common`);\n      result = getRandomTextWithWeight(GlobalCardStats.CommonEffects);\n    } else if (result === GlobalCardStats.RollUnCommon) {\n      console.log(`${card.cardName} Rolled UnCommon`);\n      result = getRandomTextWithWeight(GlobalCardStats.UncommonEffects);\n    } else if (result === GlobalCardStats.RollRare) {\n      console.log(`${card.cardName} Rolled Rare`);\n      result = getRandomTextWithWeight(GlobalCardStats.RareEffects);\n    }\n  }\n  return result;\n}\nfunction getRandomTextWithWeight(textAndWeight) {\n  const texts = [];\n  textAndWeight.forEach(tw => {\n    for (let i = 0; i < tw.Weight; i++) {\n      texts.push(tw.Text);\n    }\n  });\n  return getRandomElement(texts);\n}\nfunction getRandomElement(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\nexport default generateRandomCard;","map":{"version":3,"names":["Card","AbilityRarity","GlobalCardStats","generateRandomCard","name","getRandomElement","RandomNames","card","cardName","cardSprite","cardSprites","cardAccessorySprite","cardAccessorySprites","Accuracy","getRandomInt","MinAccuracy","MaxAccuracy","Retaliation","MinRetaliation","MaxRetaliation","Damage","MinDamage","MaxDamage","HealthPoints","MinHealthPoints","MaxHealthPoints","abilityRarity","generateRandomRarity","Trigger","generateRandomTrigger","Effect","generateRandomEffect","rarityWeights","Common","CommonChance","Uncommon","UncommonChance","Rare","RareChance","totalWeight","Object","values","reduce","acc","weight","randomValue","cumulativeWeight","rarity","entries","getRandomTextWithWeight","CommonTriggers","UncommonTriggers","RareTriggers","result","CommonEffects","UncommonEffects","RareEffects","trim","loopCount","RollCommon","RollUnCommon","RollRare","includes","console","log","textAndWeight","texts","forEach","tw","i","Weight","push","Text","arr","Math","floor","random","length","min","max"],"sources":["/Users/chacenielson/Documents/git-pull/card-generator/src/card-logic/CardGenerator.js"],"sourcesContent":["import { Card, AbilityRarity } from './Card';\nimport { GlobalCardStats } from './GlobalCardStats';\n\nfunction generateRandomCard() {\n  const name = getRandomElement(GlobalCardStats.RandomNames);\n  const card = new Card();\n\n  card.cardName = name;\n  card.cardSprite = getRandomElement(GlobalCardStats.cardSprites);\n  card.cardAccessorySprite = getRandomElement(GlobalCardStats.cardAccessorySprites);\n\n  card.Accuracy = getRandomInt(GlobalCardStats.MinAccuracy, GlobalCardStats.MaxAccuracy + 1);\n  card.Retaliation = getRandomInt(GlobalCardStats.MinRetaliation, GlobalCardStats.MaxRetaliation + 1);\n  card.Damage = getRandomInt(GlobalCardStats.MinDamage, GlobalCardStats.MaxDamage + 1);\n  card.HealthPoints = getRandomInt(GlobalCardStats.MinHealthPoints, GlobalCardStats.MaxHealthPoints + 1);\n\n  card.abilityRarity = generateRandomRarity();\n\n  card.Trigger = generateRandomTrigger(card);\n  card.Effect = generateRandomEffect(card);\n\n  return card;\n}\n\nfunction generateRandomRarity() {\n  const rarityWeights = {\n    [AbilityRarity.Common]: GlobalCardStats.CommonChance,\n    [AbilityRarity.Uncommon]: GlobalCardStats.UncommonChance,\n    [AbilityRarity.Rare]: GlobalCardStats.RareChance\n  };\n\n  const totalWeight = Object.values(rarityWeights).reduce((acc, weight) => acc + weight, 0);\n  const randomValue = getRandomInt(0, totalWeight);\n  let cumulativeWeight = 0;\n\n  for (const [rarity, weight] of Object.entries(rarityWeights)) {\n    cumulativeWeight += weight;\n    if (randomValue < cumulativeWeight) {\n      return rarity;\n    }\n  }\n\n  return AbilityRarity.Common;\n}\n\nfunction generateRandomTrigger(card) {\n  if (card.abilityRarity === AbilityRarity.Common) {\n    return getRandomTextWithWeight(GlobalCardStats.CommonTriggers);\n  } else if (card.abilityRarity === AbilityRarity.Uncommon) {\n    return getRandomTextWithWeight(GlobalCardStats.UncommonTriggers);\n  } else if (card.abilityRarity === AbilityRarity.Rare) {\n    return getRandomTextWithWeight(GlobalCardStats.RareTriggers);\n  }\n  return \"\";\n}\n\nfunction generateRandomEffect(card) {\n  let result = \"\";\n  if (card.abilityRarity === AbilityRarity.Common) {\n    result = getRandomTextWithWeight(GlobalCardStats.CommonEffects);\n  } else if (card.abilityRarity === AbilityRarity.Uncommon) {\n    result = getRandomTextWithWeight(GlobalCardStats.UncommonEffects);\n  } else if (card.abilityRarity === AbilityRarity.Rare) {\n    result = getRandomTextWithWeight(GlobalCardStats.RareEffects);\n  }\n\n  result = result.trim();\n  let loopCount = 0;\n\n  while ([GlobalCardStats.RollCommon, GlobalCardStats.RollUnCommon, GlobalCardStats.RollRare].includes(result)) {\n    loopCount++;\n    if (loopCount >= 2000) {\n      console.log(\"Infinite Loop\");\n      break;\n    }\n    if (result === GlobalCardStats.RollCommon) {\n      console.log(`${card.cardName} Rolled Common`);\n      result = getRandomTextWithWeight(GlobalCardStats.CommonEffects);\n    } else if (result === GlobalCardStats.RollUnCommon) {\n      console.log(`${card.cardName} Rolled UnCommon`);\n      result = getRandomTextWithWeight(GlobalCardStats.UncommonEffects);\n    } else if (result === GlobalCardStats.RollRare) {\n      console.log(`${card.cardName} Rolled Rare`);\n      result = getRandomTextWithWeight(GlobalCardStats.RareEffects);\n    }\n  }\n\n  return result;\n}\n\nfunction getRandomTextWithWeight(textAndWeight) {\n  const texts = [];\n  textAndWeight.forEach(tw => {\n    for (let i = 0; i < tw.Weight; i++) {\n      texts.push(tw.Text);\n    }\n  });\n  return getRandomElement(texts);\n}\n\nfunction getRandomElement(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport default generateRandomCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}