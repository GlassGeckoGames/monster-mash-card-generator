{"ast":null,"code":"var _s = $RefreshSig$();\nimport { Card } from './CardStats';\nimport { triggersAndEffects } from './TriggersAndEffect';\n\n/**\n * Generates random card stats and assigns a random trigger and effect based on the card's rarity.\n * @param {Object} globalCardStats - The global card stats.\n * @param {boolean} usePointDistributionSystem - Flag to use the point distribution system.\n * @returns {Card} - The generated card with random stats, trigger, and effect.\n */\nfunction generateRandomCardStats() {\n  _s();\n  const {\n    globalCardStats,\n    setGlobalCardStats,\n    usePointDistributionSystem,\n    setUsePointDistributionSystem\n  } = useCardStats();\n  const card = new Card();\n  if (usePointDistributionSystem) {\n    // Distribute points among the stats\n    const distributedStats = distributePoints(globalCardStats.distributionPoints, globalCardStats);\n    card.HealthPoints = distributedStats.health;\n    card.DamagePoints = distributedStats.damage;\n    card.DefencePoints = distributedStats.defence;\n    card.AccuracyPoints = distributedStats.accuracy;\n  } else {\n    // Assign random stats to the card within the defined ranges\n    card.AccuracyPoints = getRandomInt(globalCardStats.accuracyRange[0], globalCardStats.accuracyRange[1] + 1);\n    card.DefencePoints = getRandomInt(globalCardStats.defenceRange[0], globalCardStats.defenceRange[1] + 1);\n    card.DamagePoints = getRandomInt(globalCardStats.damageRange[0], globalCardStats.damageRange[1] + 1);\n    card.HealthPoints = getRandomInt(globalCardStats.healthRange[0], globalCardStats.healthRange[1] + 1);\n  }\n\n  // Generate a random trigger and effect\n  const triggerEffect = generateRandomTriggerEffect();\n  card.Trigger = triggerEffect.trigger;\n  card.Effect = triggerEffect.effect;\n  card.rarity = triggerEffect.rarity;\n  return card;\n}\n\n/**\n * Distributes a given number of points across four stats while respecting min and max values.\n * @param {number} totalPoints - The total points to distribute.\n * @param {Object} globalCardStats - The global card stats.\n * @returns {Object} - An object containing the distributed stats.\n */\n_s(generateRandomCardStats, \"a6Y+1cGQ8okh54WQDYGxDzg27Dw=\", true);\nfunction distributePoints(totalPoints, globalCardStats) {\n  // Initialize stats with their minimum values\n  const setStats = {\n    health: globalCardStats.healthRange[0],\n    damage: globalCardStats.damageRange[0],\n    defence: globalCardStats.defenceRange[0],\n    accuracy: globalCardStats.accuracyRange[0]\n  };\n\n  // Calculate the points left after setting the minimum values\n  let pointsLeft = totalPoints - setStats.health - setStats.damage - setStats.defence - setStats.accuracy;\n\n  // Distribute the remaining points randomly\n  while (pointsLeft > 0) {\n    const stat = getRandomInt(0, 4);\n    switch (stat) {\n      case 0:\n        if (setStats.health < globalCardStats.healthRange[1]) {\n          setStats.health++;\n          pointsLeft--;\n        }\n        break;\n      case 1:\n        if (setStats.damage < globalCardStats.damageRange[1]) {\n          setStats.damage++;\n          pointsLeft--;\n        }\n        break;\n      case 2:\n        if (setStats.defence < globalCardStats.defenceRange[1]) {\n          setStats.defence++;\n          pointsLeft--;\n        }\n        break;\n      case 3:\n        if (setStats.accuracy < globalCardStats.accuracyRange[1]) {\n          setStats.accuracy++;\n          pointsLeft--;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  return setStats;\n}\n\n/**\n * Generates a random trigger and effect based on their weights.\n * @returns {Object} - An object containing the selected trigger, effect, and rarity.\n */\nfunction generateRandomTriggerEffect() {\n  // Select a random trigger based on weights\n  const trigger = getRandomElementWithWeight(triggersAndEffects);\n\n  // Select a random effect from the chosen trigger's effects based on weights\n  const effect = getRandomElementWithWeight(trigger.effects);\n  return {\n    trigger: trigger.trigger,\n    effect: effect.name,\n    rarity: trigger.rarity\n  };\n}\n\n/**\n * Selects a random element from an array based on their weights.\n * @param {Array} elements - The array of elements to choose from.\n * @returns {Object} - The selected element.\n */\nfunction getRandomElementWithWeight(elements) {\n  const totalWeight = elements.reduce((acc, element) => acc + parseFloat(element.weight), 0);\n  const randomValue = Math.random() * totalWeight;\n  let cumulativeWeight = 0;\n\n  // Select an element based on the random value\n  for (const element of elements) {\n    cumulativeWeight += parseFloat(element.weight);\n    if (randomValue < cumulativeWeight) {\n      return element;\n    }\n  }\n  return elements[0]; // Fallback to the first element if no element is selected\n}\n\n/**\n * Generates a random integer between the specified min (inclusive) and max (exclusive).\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n * @returns {number} - The generated random integer.\n */\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\nexport default generateRandomCardStats;","map":{"version":3,"names":["Card","triggersAndEffects","generateRandomCardStats","_s","globalCardStats","setGlobalCardStats","usePointDistributionSystem","setUsePointDistributionSystem","useCardStats","card","distributedStats","distributePoints","distributionPoints","HealthPoints","health","DamagePoints","damage","DefencePoints","defence","AccuracyPoints","accuracy","getRandomInt","accuracyRange","defenceRange","damageRange","healthRange","triggerEffect","generateRandomTriggerEffect","Trigger","trigger","Effect","effect","rarity","totalPoints","setStats","pointsLeft","stat","getRandomElementWithWeight","effects","name","elements","totalWeight","reduce","acc","element","parseFloat","weight","randomValue","Math","random","cumulativeWeight","min","max","floor"],"sources":["/Users/chacenielson/Documents/git-pull/card-generator/src/card-logic/CardGenerator.js"],"sourcesContent":["import { Card } from './CardStats';\nimport { triggersAndEffects } from './TriggersAndEffect';\n\n\n/**\n * Generates random card stats and assigns a random trigger and effect based on the card's rarity.\n * @param {Object} globalCardStats - The global card stats.\n * @param {boolean} usePointDistributionSystem - Flag to use the point distribution system.\n * @returns {Card} - The generated card with random stats, trigger, and effect.\n */\nfunction generateRandomCardStats() {\n  const { globalCardStats, setGlobalCardStats, usePointDistributionSystem, setUsePointDistributionSystem } = useCardStats();\n\n  const card = new Card();\n\n  if (usePointDistributionSystem) {\n    // Distribute points among the stats\n    const distributedStats = distributePoints(globalCardStats.distributionPoints, globalCardStats);\n    card.HealthPoints = distributedStats.health;\n    card.DamagePoints = distributedStats.damage;\n    card.DefencePoints = distributedStats.defence;\n    card.AccuracyPoints = distributedStats.accuracy;\n  } else {\n    // Assign random stats to the card within the defined ranges\n    card.AccuracyPoints = getRandomInt(\n      globalCardStats.accuracyRange[0], \n      globalCardStats.accuracyRange[1] + 1\n    );\n    card.DefencePoints = getRandomInt(\n      globalCardStats.defenceRange[0], \n      globalCardStats.defenceRange[1] + 1\n    );\n    card.DamagePoints = getRandomInt(\n      globalCardStats.damageRange[0], \n      globalCardStats.damageRange[1] + 1\n    );\n    card.HealthPoints = getRandomInt(\n      globalCardStats.healthRange[0], \n      globalCardStats.healthRange[1] + 1\n    );\n  }\n\n  // Generate a random trigger and effect\n  const triggerEffect = generateRandomTriggerEffect();\n  card.Trigger = triggerEffect.trigger;\n  card.Effect = triggerEffect.effect;\n  card.rarity = triggerEffect.rarity;\n\n  return card;\n}\n\n/**\n * Distributes a given number of points across four stats while respecting min and max values.\n * @param {number} totalPoints - The total points to distribute.\n * @param {Object} globalCardStats - The global card stats.\n * @returns {Object} - An object containing the distributed stats.\n */\nfunction distributePoints(totalPoints, globalCardStats) {\n  // Initialize stats with their minimum values\n  const setStats = {\n    health: globalCardStats.healthRange[0],\n    damage: globalCardStats.damageRange[0],\n    defence: globalCardStats.defenceRange[0],\n    accuracy: globalCardStats.accuracyRange[0]\n  };\n\n  // Calculate the points left after setting the minimum values\n  let pointsLeft = totalPoints - setStats.health - setStats.damage - setStats.defence - setStats.accuracy;\n\n  // Distribute the remaining points randomly\n  while (pointsLeft > 0) {\n    const stat = getRandomInt(0, 4);\n    switch (stat) {\n      case 0:\n        if (setStats.health < globalCardStats.healthRange[1]) {\n          setStats.health++;\n          pointsLeft--;\n        }\n        break;\n      case 1:\n        if (setStats.damage < globalCardStats.damageRange[1]) {\n          setStats.damage++;\n          pointsLeft--;\n        }\n        break;\n      case 2:\n        if (setStats.defence < globalCardStats.defenceRange[1]) {\n          setStats.defence++;\n          pointsLeft--;\n        }\n        break;\n      case 3:\n        if (setStats.accuracy < globalCardStats.accuracyRange[1]) {\n          setStats.accuracy++;\n          pointsLeft--;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  return setStats;\n}\n\n/**\n * Generates a random trigger and effect based on their weights.\n * @returns {Object} - An object containing the selected trigger, effect, and rarity.\n */\nfunction generateRandomTriggerEffect() {\n  // Select a random trigger based on weights\n  const trigger = getRandomElementWithWeight(triggersAndEffects);\n  \n  // Select a random effect from the chosen trigger's effects based on weights\n  const effect = getRandomElementWithWeight(trigger.effects);\n\n  return { trigger: trigger.trigger, effect: effect.name, rarity: trigger.rarity };\n}\n\n/**\n * Selects a random element from an array based on their weights.\n * @param {Array} elements - The array of elements to choose from.\n * @returns {Object} - The selected element.\n */\nfunction getRandomElementWithWeight(elements) {\n  const totalWeight = elements.reduce((acc, element) => acc + parseFloat(element.weight), 0);\n  const randomValue = Math.random() * totalWeight;\n  let cumulativeWeight = 0;\n\n  // Select an element based on the random value\n  for (const element of elements) {\n    cumulativeWeight += parseFloat(element.weight);\n    if (randomValue < cumulativeWeight) {\n      return element;\n    }\n  }\n\n  return elements[0]; // Fallback to the first element if no element is selected\n}\n\n/**\n * Generates a random integer between the specified min (inclusive) and max (exclusive).\n * @param {number} min - The minimum value.\n * @param {number} max - The maximum value.\n * @returns {number} - The generated random integer.\n */\nfunction getRandomInt(min, max) {\n  return Math.floor(Math.random() * (max - min)) + min;\n}\n\nexport default generateRandomCardStats;\n"],"mappings":";AAAA,SAASA,IAAI,QAAQ,aAAa;AAClC,SAASC,kBAAkB,QAAQ,qBAAqB;;AAGxD;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,uBAAuBA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM;IAAEC,eAAe;IAAEC,kBAAkB;IAAEC,0BAA0B;IAAEC;EAA8B,CAAC,GAAGC,YAAY,CAAC,CAAC;EAEzH,MAAMC,IAAI,GAAG,IAAIT,IAAI,CAAC,CAAC;EAEvB,IAAIM,0BAA0B,EAAE;IAC9B;IACA,MAAMI,gBAAgB,GAAGC,gBAAgB,CAACP,eAAe,CAACQ,kBAAkB,EAAER,eAAe,CAAC;IAC9FK,IAAI,CAACI,YAAY,GAAGH,gBAAgB,CAACI,MAAM;IAC3CL,IAAI,CAACM,YAAY,GAAGL,gBAAgB,CAACM,MAAM;IAC3CP,IAAI,CAACQ,aAAa,GAAGP,gBAAgB,CAACQ,OAAO;IAC7CT,IAAI,CAACU,cAAc,GAAGT,gBAAgB,CAACU,QAAQ;EACjD,CAAC,MAAM;IACL;IACAX,IAAI,CAACU,cAAc,GAAGE,YAAY,CAChCjB,eAAe,CAACkB,aAAa,CAAC,CAAC,CAAC,EAChClB,eAAe,CAACkB,aAAa,CAAC,CAAC,CAAC,GAAG,CACrC,CAAC;IACDb,IAAI,CAACQ,aAAa,GAAGI,YAAY,CAC/BjB,eAAe,CAACmB,YAAY,CAAC,CAAC,CAAC,EAC/BnB,eAAe,CAACmB,YAAY,CAAC,CAAC,CAAC,GAAG,CACpC,CAAC;IACDd,IAAI,CAACM,YAAY,GAAGM,YAAY,CAC9BjB,eAAe,CAACoB,WAAW,CAAC,CAAC,CAAC,EAC9BpB,eAAe,CAACoB,WAAW,CAAC,CAAC,CAAC,GAAG,CACnC,CAAC;IACDf,IAAI,CAACI,YAAY,GAAGQ,YAAY,CAC9BjB,eAAe,CAACqB,WAAW,CAAC,CAAC,CAAC,EAC9BrB,eAAe,CAACqB,WAAW,CAAC,CAAC,CAAC,GAAG,CACnC,CAAC;EACH;;EAEA;EACA,MAAMC,aAAa,GAAGC,2BAA2B,CAAC,CAAC;EACnDlB,IAAI,CAACmB,OAAO,GAAGF,aAAa,CAACG,OAAO;EACpCpB,IAAI,CAACqB,MAAM,GAAGJ,aAAa,CAACK,MAAM;EAClCtB,IAAI,CAACuB,MAAM,GAAGN,aAAa,CAACM,MAAM;EAElC,OAAOvB,IAAI;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AALAN,EAAA,CAzCSD,uBAAuB;AA+ChC,SAASS,gBAAgBA,CAACsB,WAAW,EAAE7B,eAAe,EAAE;EACtD;EACA,MAAM8B,QAAQ,GAAG;IACfpB,MAAM,EAAEV,eAAe,CAACqB,WAAW,CAAC,CAAC,CAAC;IACtCT,MAAM,EAAEZ,eAAe,CAACoB,WAAW,CAAC,CAAC,CAAC;IACtCN,OAAO,EAAEd,eAAe,CAACmB,YAAY,CAAC,CAAC,CAAC;IACxCH,QAAQ,EAAEhB,eAAe,CAACkB,aAAa,CAAC,CAAC;EAC3C,CAAC;;EAED;EACA,IAAIa,UAAU,GAAGF,WAAW,GAAGC,QAAQ,CAACpB,MAAM,GAAGoB,QAAQ,CAAClB,MAAM,GAAGkB,QAAQ,CAAChB,OAAO,GAAGgB,QAAQ,CAACd,QAAQ;;EAEvG;EACA,OAAOe,UAAU,GAAG,CAAC,EAAE;IACrB,MAAMC,IAAI,GAAGf,YAAY,CAAC,CAAC,EAAE,CAAC,CAAC;IAC/B,QAAQe,IAAI;MACV,KAAK,CAAC;QACJ,IAAIF,QAAQ,CAACpB,MAAM,GAAGV,eAAe,CAACqB,WAAW,CAAC,CAAC,CAAC,EAAE;UACpDS,QAAQ,CAACpB,MAAM,EAAE;UACjBqB,UAAU,EAAE;QACd;QACA;MACF,KAAK,CAAC;QACJ,IAAID,QAAQ,CAAClB,MAAM,GAAGZ,eAAe,CAACoB,WAAW,CAAC,CAAC,CAAC,EAAE;UACpDU,QAAQ,CAAClB,MAAM,EAAE;UACjBmB,UAAU,EAAE;QACd;QACA;MACF,KAAK,CAAC;QACJ,IAAID,QAAQ,CAAChB,OAAO,GAAGd,eAAe,CAACmB,YAAY,CAAC,CAAC,CAAC,EAAE;UACtDW,QAAQ,CAAChB,OAAO,EAAE;UAClBiB,UAAU,EAAE;QACd;QACA;MACF,KAAK,CAAC;QACJ,IAAID,QAAQ,CAACd,QAAQ,GAAGhB,eAAe,CAACkB,aAAa,CAAC,CAAC,CAAC,EAAE;UACxDY,QAAQ,CAACd,QAAQ,EAAE;UACnBe,UAAU,EAAE;QACd;QACA;MACF;QACE;IACJ;EACF;EAEA,OAAOD,QAAQ;AACjB;;AAEA;AACA;AACA;AACA;AACA,SAASP,2BAA2BA,CAAA,EAAG;EACrC;EACA,MAAME,OAAO,GAAGQ,0BAA0B,CAACpC,kBAAkB,CAAC;;EAE9D;EACA,MAAM8B,MAAM,GAAGM,0BAA0B,CAACR,OAAO,CAACS,OAAO,CAAC;EAE1D,OAAO;IAAET,OAAO,EAAEA,OAAO,CAACA,OAAO;IAAEE,MAAM,EAAEA,MAAM,CAACQ,IAAI;IAAEP,MAAM,EAAEH,OAAO,CAACG;EAAO,CAAC;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASK,0BAA0BA,CAACG,QAAQ,EAAE;EAC5C,MAAMC,WAAW,GAAGD,QAAQ,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,OAAO,KAAKD,GAAG,GAAGE,UAAU,CAACD,OAAO,CAACE,MAAM,CAAC,EAAE,CAAC,CAAC;EAC1F,MAAMC,WAAW,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,GAAGR,WAAW;EAC/C,IAAIS,gBAAgB,GAAG,CAAC;;EAExB;EACA,KAAK,MAAMN,OAAO,IAAIJ,QAAQ,EAAE;IAC9BU,gBAAgB,IAAIL,UAAU,CAACD,OAAO,CAACE,MAAM,CAAC;IAC9C,IAAIC,WAAW,GAAGG,gBAAgB,EAAE;MAClC,OAAON,OAAO;IAChB;EACF;EAEA,OAAOJ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASnB,YAAYA,CAAC8B,GAAG,EAAEC,GAAG,EAAE;EAC9B,OAAOJ,IAAI,CAACK,KAAK,CAACL,IAAI,CAACC,MAAM,CAAC,CAAC,IAAIG,GAAG,GAAGD,GAAG,CAAC,CAAC,GAAGA,GAAG;AACtD;AAEA,eAAejD,uBAAuB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}